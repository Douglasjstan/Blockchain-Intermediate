<%- include('partials/header') %>

<div class="container mt-5">
  <h1>Update Information</h1>

  <div class="row">
    <div class="col-sm-8">
      <div class="card">
        <div class="card-body">
          <style>
            table, th, td {
              border: 1px solid black;
              padding: 10px;
            }
            table.center{
              margin-left: auto;
              margin-right: auto;
            }
          </style>

          <form action="/updateInfo" method="POST">
            <div class="form-group>">
              <Table>
                <tr>
                  <td colspan="4">
                      <Strong>Please update your information.</Strong>
                      <br><br>
                      <Strong><p style="color: red">Note: You need to enter your current password in order to update your new information.</p></Strong>
                      <Strong><p style="color: red"><%=STATUS%></p></Strong>
                  </td>
                </tr>
                <tr>
                  <td><label for="NRIC">NRIC</label></td>
                  <td><label for="nric"><%=NRIC%></label>
                  <td><label for="NRIC_Name">NRIC Name</label></td>
                  <td><label for="nric_name"><%=NRIC_NAME%></label></td>
                </tr>
                <tr>
                  <td><label for="Email">Email</label></td>
                  <td><label for="EMAIL"><%=EMAIL%></label></td>
                  <td><label for="new_email">New Email</label></td>
                  <td><input type="email" class="form=control" name="new_email" autocomplete="off"></td>
                </tr>
                <tr>
                  <td><label for="Mobile">Mobile</label></td>
                  <td><label for="MOBILE"><%=MOBILE%></label></td>
                  <td><label for="new_mobile">New Mobile Number</label></td>
                  <td><input type="number" pattern="{8}" class="form=control" name="new_mobile" autocomplete="off"></td>
                </tr>
                <tr>
                  <td><label for="payee_account_name">Bank Account Name</label></td>
                  <td><label for="payee_account_name"><%=PAYEE_ACCOUNT_NAME%></label></td>
                  <td><label for="new_payee_account_name">New Bank Account Name</label></td>
                  <td><input type="text" class="form=control" name="new_payee_account_name" autocomplete="off"></td>
                </tr>
                <tr>
                  <td><label for="payee_account_number">Bank Account Number</label></td>
                  <td><label for="payee_account_number"><%=PAYEE_ACCOUNT_NUMBER%></label></td>
                  <td><label for="new_payee_account_number">New Bank Account Number</label></td>
                  <td><input type="number" class="form=control" name="new_payee_account_number" autocomplete="off"></td>
                </tr>
                <tr>
                  <td><label for="password">Current Password</label></td>
                  <td><input type="password" class="form=control" name="old_password" value=""></td>
                  <td><label for="new_password">New Password (if required)</label></td>
                  <td><input type="password" class="form=control" name="new_password"></td>
                </tr>
              </Table>
              <br>
              <button type="submit" class="btn btn-dark" name="nric" value="<%=NRIC%>" onClick="return checkInput()">Update Information</button>
            </div>
          </form>

          <script type="text/javascript">
            function checkInput()
            {
              var passwordValue = document.login.password.value;
              if (passwordValue == "") {
                alert("Invalid password");
                return false;
              }
            }
          </script>

        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer') %>